---
layout: post
title:  "RU | 'Oh My Grub' from root-me.org"
date:   2023-09-21 15:20:02 +0300
categories: forensic
---
![First](/assets/ohmygrub0.jpg)

Задания по форензике становятся всё интереснее, сегодня у нас на очереди задачка с загрузчиком grub:

>Ваша компания потеряла доступ к старому серверу, к несчастью, там хранились важные файлы. Их поиск зависит от вас.

Распаковываем архив, загружаем файл в виртуалку (у меня VMWare Workstation) и стартуем. Сразу же требует пароль и логин, а если зайти в recovery mode - пароль рута.
![Second](/assets/ohmygrub1.jpg)

Так дело не пойдет. Перезапускаем виртуалку, ждем открытия загрузчика и нажимаем 'E' выбрав стрелочками нужную нам операционную систему. Теперь нас встречает режим редактирования:
![Third](/assets/ohmygrub2.jpg)

Теперь нам нужно найти строчку которая начинается со слова kernel/linux и немного ее модифицировать. Смотрим на конец строки - 'quiet' можно оставить (отвечает за тихую загрузку), а вот 'ro' (Read Only) нужно поменять на 'rw' (Read Write). Вместе с этим, мы должны дописать в конце данную строчку:

>init=/bin/bash

init означает что это первый процесс запущенный ядром. '/bin/bash' - путь к терминалу. Выглядеть это должно вот так:
![Four](/assets/ohmygrub3.jpg)

Жмём Ctrl + X и оказываемся под рутом. Можем конечно изменить пароль, но в этой ситуации это нам не нужно, достаточно просто покопаться по файловой системе. Главное проверять папки на наличие скрытых файлов. Сделать это можно путём добавления к команде 'ls' параметра '-a'. В папке 'lost+found' у нас ничего нету, как и в '/home/root-me', а вот в папке 'root' мы замечаем интересный файл '.passwd'. Вводим команду

>cat .passwd

И смотрим текстовое содержимое:
![Five](/assets/ohmygrub4.jpg)

Флаг в наших руках