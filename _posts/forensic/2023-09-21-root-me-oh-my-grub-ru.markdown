---
layout: post
title:  "RU | 'Oh My Grub' from root-me.org"
date:   2023-09-21 15:20:02 +0300
categories: forensic
---
![First](/assets/ohmygrub0.jpg)

<h4>Задания по форензике становятся всё интереснее, сегодня у нас на очереди задачка с загрузчиком grub:</h4>

><h4>Ваша компания потеряла доступ к старому серверу, к несчастью, там хранились важные файлы. Их поиск зависит от вас.</h4>

<h4>Распаковываем архив, загружаем файл в виртуалку (у меня VMWare Workstation) и стартуем. Сразу же требует пароль и логин, а если зайти в recovery mode - пароль рута.</h4>
![Second](/assets/ohmygrub1.jpg)

<h4>Так дело не пойдет. Перезапускаем виртуалку, ждем открытия загрузчика и нажимаем 'E' выбрав стрелочками нужную нам операционную систему. Теперь нас встречает режим редактирования:</h4>
![Third](/assets/ohmygrub2.jpg)

<h4>Теперь нам нужно найти строчку которая начинается со слова kernel/linux и немного ее модифицировать. Смотрим на конец строки - 'quiet' можно оставить (отвечает за тихую загрузку), а вот 'ro' (Read Only) нужно поменять на 'rw' (Read Write). Вместе с этим, мы должны дописать в конце данную строчку:</h4>

><h4>init=/bin/bash</h4>

<h4>init означает что это первый процесс запущенный ядром. '/bin/bash' - путь к терминалу. Выглядеть это должно вот так:</h4>
![Four](/assets/ohmygrub3.jpg)

<h4>Жмём Ctrl + X и оказываемся под рутом. Можем конечно изменить пароль, но в этой ситуации это нам не нужно, достаточно просто покопаться по файловой системе. Главное проверять папки на наличие скрытых файлов. Сделать это можно путём добавления к команде 'ls' параметра '-a'. В папке 'lost+found' у нас ничего нету, как и в '/home/root-me', а вот в папке 'root' мы замечаем интересный файл '.passwd'. Вводим команду</h4>

><h4>cat .passwd</h4>

<h4>И смотрим текстовое содержимое:</h4>
![Five](/assets/ohmygrub4.jpg)

<h4>Флаг в наших руках</h4>